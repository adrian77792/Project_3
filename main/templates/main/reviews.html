{% load static %}
<!DOCTYPE html>
<html>
<head>
     <!-- Meta information for the page -->
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>Sandra Szczepaniak - Beauty Expert & Eyelash Trainer</title>
     <meta name="description" content="Sandra Szczepaniak offers professional eyelash styling, makeup services, and expert training for beauty professionals. Passionate about aesthetics and beauty education.">
     <meta name="keywords" content="Sandra Szczepaniak, beauty salon, eyelash stylist, lash extensions, lash lifting, lash lamination, makeup artist, beauty trainer, eyelash trainer, beauty education, aesthetic services, beauty expert, linguist, lash courses, beauty industry, makeup services, cosmetic training">
     <link rel="icon" type="image/x-icon" href="assets/favicon/favicon.ico">
     <link rel="stylesheet" href="{% static 'main/css/style.css' %}">
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</head>

{% include "partials/header.html" %}

<h2>All Opinions</h2>
{% for review in reviews %}
    <p><strong>{{ review.name }}</strong> ({{ review.rating }}⭐) - {{ review.created_at|date:"Y-m-d H:i" }}</p>
    <p>{{ review.content }}</p>
    <hr>
{% empty %}
    <p>Brak opinii.</p>
{% endfor %}


<form method="post" class="review-form">
  {% csrf_token %}
  <p>
    {{ form.name.label_tag }}<br>
    {{ form.name}}
  </p>
  <p>
    {{ form.email.label_tag }}<br>
    {{ form.email}}
  </p>
  <p>
    {{ form.content.label_tag }}<br>
    {{ form.content}}
  </p>
  
  <p>Rating:</p>
  <div class="star-rating">
    <span data-value="1">&#9733;</span>
    <span data-value="2">&#9733;</span>
    <span data-value="3">&#9733;</span>
    <span data-value="4">&#9733;</span>
    <span data-value="5">&#9733;</span>
  </div>
  <input type="hidden" name="rating" id="id_rating" value="5">

  <button type="submit" class="book-btn">Add review</button>
</form>

<ul>
  <li></li>
  <li></li>
</ul>

<style>
.review-form {
    width: 33%;          /* 1/3 szerokości strony */
    margin: 0 auto;      /* wycentrowanie */
    display: flex;
    flex-direction: column;
    gap: 10px;
    text-align: left;
}

.review-form input, .review-form textarea {
    padding: 8px;
    border-radius: 5px;
    border: 1px solid #ccc;
    width: 100%;
    box-sizing: border-box;
    font-size: 14px;
}

.btn-submit {
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    background-color: #4CAF50;
    color: white;
    font-size: 16px;
    cursor: pointer;
    align-self: center;   /* przycisk na środku */
}

.btn-submit:hover { background-color: #45a049; }

.star-rating {
    text-align: center;
    font-size: 30px;
    margin-bottom: 10px;
}
.star-rating span {
    cursor: pointer;
    color: #ccc;
}
.star-rating span.selected,
.star-rating span:hover,
.star-rating span:hover ~ span {
    color: gold;
}
</style>

<script>
// Interaktywny wybór gwiazdek
const stars = document.querySelectorAll('.star-rating span');
const ratingInput = document.getElementById('id_rating');

stars.forEach(star => {
    star.addEventListener('click', () => {
        ratingInput.value = star.dataset.value;
        stars.forEach(s => s.classList.remove('selected'));
        star.classList.add('selected');
        // podświetlamy wszystkie gwiazdki <= klikniętej
        stars.forEach(s => {
            if (s.dataset.value <= star.dataset.value) s.classList.add('selected');
        });
    });

    star.addEventListener('mouseover', () => {
        stars.forEach(s => s.classList.remove('hover'));
        stars.forEach(s => {
            if (s.dataset.value <= star.dataset.value) s.classList.add('hover');
        });
    });

    star.addEventListener('mouseout', () => {
        stars.forEach(s => s.classList.remove('hover'));
    });
});
</script>

<!-- Footer section containing copyright and external contact links -->
{% include "partials/footer.html" %}

<script src="{% static 'main/js/column.js' %}"></script>
<script src="{% static 'main/js/menu.js' %}"></script>
</body>
</html>