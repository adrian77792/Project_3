{% load static %}
<!DOCTYPE html>
<html>
<head>
     <!-- Meta information for the page -->
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>Sandra Szczepaniak - Beauty Expert & Eyelash Trainer</title>
     <meta name="description" content="Sandra Szczepaniak offers professional eyelash styling, makeup services, and expert training for beauty professionals. Passionate about aesthetics and beauty education.">
     <meta name="keywords" content="Sandra Szczepaniak, beauty salon, eyelash stylist, lash extensions, lash lifting, lash lamination, makeup artist, beauty trainer, eyelash trainer, beauty education, aesthetic services, beauty expert, linguist, lash courses, beauty industry, makeup services, cosmetic training">
     <link rel="icon" type="image/x-icon" href="assets/favicon/favicon.ico">
     <link rel="stylesheet" href="{% static 'main/css/style.css' %}">
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>

{% include "partials/header.html" %} 
<div class="main-section-wrapper">
    <div class="blog-container">
        <h1 class="blog-title">Beauty Blog</h1>
        <div class="blog-layout">
            <!-- Left: Scrollable posts -->
            <div class="blog-posts">
                {% for post in posts %}
                <article id="post-{{ post.id }}" class="blog-post-card" data-post-id="{{ post.id }}">
                    {% if post.featured_image %}
                        <div class="blog-image" 
                             style="background-image: url('{{ post.featured_image.url }}');">
                        </div>
                    {% endif %}

                    <h2>{{ post.title }}</h2>

                    {% if post.excerpt %}
                        <p class="blog-excerpt">{{ post.excerpt }}</p>
                    {% endif %}

                    <div class="blog-content">
                        {{ post.content|safe }}
                    </div>

                    <div class="blog-meta">
                        {{ post.created_at|date:"F j, Y" }}
                    </div>
                </article>
                {% empty %}
                    <p>No blog posts yet.</p>
                {% endfor %}
            </div>

            <!-- Right: Titles-->
            <aside class="blog-sidebar">
                <h3>Recent Posts</h3>
                <ul>
                    {% for post in posts %}
                    <li>
                        <a href="#post-{{ post.id }}" class="blog-title-link" data-post-id="{{ post.id }}">{{ post.title }}</a>
                    </li>
                    {% endfor %}
                </ul>
            </aside>
        </div>
    </div>

</div>

{% include "partials/footer.html" %}

<style>

/* ===================
   BLOG PAGE CONTAINER
   =================== */

.blog-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 40px 40px 60px 40px;
}

/* === Title === */
.blog-title {
    text-align: center;
    font-size: 2.4rem;
    font-weight: 500;
    margin-bottom: 40px;
    color: #ddc36e;
    text-shadow: 0px 0px 3px #270049;
}

/* ===================
   Layout
   =================== */

.blog-layout {
    display: flex;
    gap: 40px;
}

/* ===================
   Left Column - Posts
   =================== */

.blog-posts {
    flex: 3;
    scroll-behavior: smooth;
    max-height: 75vh;
    overflow-y: auto;
    padding-right: 10px;
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE /Edge */
    mask-image: linear-gradient(
        to bottom,
        transparent,
        black 15px,
        black calc(100% - 15px),
        transparent
    );
}

.blog-posts::-webkit-scrollbar {
    display: none;
}
 
.blog-post-card {
    background: linear-gradient(
        to bottom,
        rgba(106, 75, 124, 0.25),
        rgba(39, 0, 73, 0.35)
    );
    border: 1px solid #d4bf6e;
    border-radius: 18px;
    padding: 25px 25px 40px 25px;
    margin-bottom: 40px;
    box-shadow: 0px 5px 15px rgba(212, 191, 110, 0.25);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.blog-post-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 10px 25px rgba(212, 191, 110, 0.45);
}

/* Image */
.blog-image {
    height: 220px;
    background-size: cover;
    background-position: center;
    border-radius: 14px;
    margin-bottom: 20px;
}

/* Headings */
.blog-post-card h2 {
    font-size: 1.8rem;
    width: 100%;
    text-align: center;
    font-weight: 700;
    color: #ddc36e;
    text-shadow: 0px 0px 3px #270049;
    margin-bottom: 10px;
}

/* Excerpt */
.blog-excerpt {
    font-style: italic;
    color: #9b8333;
    padding: 0.2rem 0.8rem;
    border-radius: 5px;
    background-color: rgba(255, 255, 255, 0.3);
}

/* Content */
.blog-content {
    color: #ffffcc;
    line-height: 1.7;
    font-size: 1.05rem;
}

/* Meta */
.blog-meta {
    margin-top:  20px;
    font-size: 0.85rem;
    color: #d4bf6e;
}

/* ===================
   Right Column - Tiles
   =================== */

.blog-sidebar {
    flex: 1;
    position: sticky;
    top: 120px;
    align-self: flex-start;
    background: rgba(39, 0, 73, 0.45);
    border: 1px solid #d4bf6e;
    border-radius: 18px;
    padding: 20px;
    height: fit-content;
}

.blog-sidebar h3 {
    text-align: center;
}

.blog-sidebar ul {
    list-style: none;
    padding: 0;
    margin: 0;
    align-items: center;
}

.blog-sidebar a {
    color: #d4bf6e;
    text-decoration: none;
    text-align: center;
    font-weight: 500;
    transition: color 0.3s ease;
}

.blog-sidebar a:hover {
    color: #fff;
}

.blog-title-link.active {
    text-shadow: 0px 0px 3px rgb(39, 0, 73);
    font-weight: 600;
    transform: translateX(6px);
}

/* ===================
   Mobile
   =================== */

@media (max-width: 900px) {
    .blog-layout {
        flex-direction: column;
    }

    .blog-posts {
        max-height: none;
        overflow: visible;
        padding-right: 0px;
    }

    .blog-sidebar {
        position: relative;
        top: 0;
        min-width: calc(100% - 40px);
    }
}

</style>

<script src="{% static 'main/js/blog_scroll.js' %}"></script>
<script src="{% static 'main/js/column.js' %}"></script>
<script src="{% static 'main/js/menu.js' %}"></script>

</body>
</html>